<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2D Shooter Game</title>
    <style>
      canvas {
        display: block;
        margin: 0 auto;
        background: black;
      }
    </style>
  </head>
  <body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script>
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');

      // Game variables
      let player = { x: 400, y: 500, width: 50, height: 20, color: 'white' };
      let bullets = [];
      let enemies = [];
      let score = 0;

      // Key controls
      let keys = {};
      document.addEventListener('keydown', (e) => keys[e.key] = true);
      document.addEventListener('keyup', (e) => keys[e.key] = false);

      // Create enemies
      function spawnEnemy() {
        const x = Math.random() * (canvas.width - 50);
        enemies.push({ x, y: 500, width: 50, height: 20, color: 'red' });
      }
      
      // Update game state
      function update() {
        // Move player
        if (keys['ArrowLeft'] && player.x > 0) player.x -= 5;
        if (keys['ArrowRight'] && player.x < canvas.width - player.width) player.x += 5;
        if (keys['ArrowUp'] && player.y > 0) {
    player.y -= 5;
    setTimeout(() => {
        player.y += 5;
    }, 200);
    }

        // Shoot bullets
        if (keys[' ']) {
          bullets.push({ x: player.x + player.width / 2 - 5, y: player.y, width: 10, height: 20, color: 'yellow' });
          keys[' '] = false; // Prevent holding space
        }

        // Move bullets
        bullets.forEach((bullet, index) => {
          bullet.x -= 5;
          if (bullet.x < 0) bullets.splice(index, 1);
        });

        // Move enemies
        enemies.forEach((enemy, index) => {
          enemy.x += 2;
          if (enemy.x > canvas.width) enemies.splice(index, 1);
        });

        // Check collisions
        bullets.forEach((bullet, bIndex) => {
          enemies.forEach((enemy, eIndex) => {
            if (
              bullet.x < enemy.x + enemy.width &&
              bullet.x + bullet.width > enemy.x &&
              bullet.y < enemy.y + enemy.height &&
              bullet.y + bullet.height > enemy.y
            ) {
              bullets.splice(bIndex, 1);
              enemies.splice(eIndex, 1);
              score++;
            }
          });
        });
      }

      // Draw game objects
      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw player
        ctx.fillStyle = player.color;
        ctx.fillRect(player.x, player.y, player.width, player.height);

        // Draw bullets
        bullets.forEach(bullet => {
          ctx.fillStyle = bullet.color;
          ctx.fillRect(bullet.x, bullet.y, bullet.width, bullet.height);
        });

        // Draw enemies
        enemies.forEach(enemy => {
          ctx.fillStyle = enemy.color;
          ctx.fillRect(enemy.x, enemy.y, enemy.width, enemy.height);
        });

        // Draw score
        ctx.fillStyle = 'white';
        ctx.font = '20px Arial';
        ctx.fillText(`Score: ${score}`, 10, 30);
      }

      // Game loop
      function gameLoop() {
        update();
        draw();
        requestAnimationFrame(gameLoop);
      }

      // Start game
      setInterval(spawnEnemy, 1000); // Spawn enemies every second
      gameLoop();
    </script>
  </body>
</html>